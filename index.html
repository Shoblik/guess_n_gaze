<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Guessing Game</title>
    <script src="https://code.jquery.com/jquery-3.2.1.js" integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE=" crossorigin="anonymous"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <script>
        var the_number = null;
        var imgArray = ['images/yosemite_background.jpg','images/j_tree_landscape.jpg','images/landscape_from_j_tree.jpg','images/orange_lake.jpg','images/glacier_mtn_park.jpg'];


        $(document).ready(function() {
            $('#make_guess').on('click', make_guess);
            $('.replay').on('click', pick_number);


            $("#guess_input").keyup(function(event) {
                if (event.keyCode === 13) {
                    $("#make_guess").click();
                }
            });
            $('#guess_input').on('input', make_guess)
        })

        function pick_number() {
            //close the current circle div for the start of a new game
            $('.circleDiv').css({
                'width': '0%',
                'padding-top': '0%',
                'border-radius': '100%'
            });
            //close the play button once clicked
            $('.replay').css('display','none');
            //Choose image
            var randomNum = Math.floor(Math.random() * imgArray.length);
            $('.circleDiv').css('background-image', 'url'+ '('+imgArray[randomNum]+')');
            //Choose a number to be guessed
            the_number = Math.floor((Math.random() * 8) + 1);
            console.log(the_number);
            return the_number;
        }
        function make_guess() {
            $('#instructions').hide();
            var the_guess = $('#guess_input').val();
            if (the_guess != '') {
                if (the_guess > the_number) {
                    $('#response_div').html('<h2>That guess is too high</h2>');
                }
                else if (the_guess < the_number) {
                    $('#response_div').html('<h2>That guess is too low</h2>');
                }
                else if (the_guess == the_number) {
                    $('#response_div').html('<h2>You guessed it!</h2>');
                    $('.backgroundImg').css('opacity', '.9');
                    $('.circleDiv').css({
//                        'width': '300%',
                        'background-position': 'center',
                        'border-radius': '0',
                        'margin-top': "0",
                        'width': '100vw',
                        'transition': '1s'
                    });
                    $('.replay').css({
                        'display':'block',
                        'margin':'15px auto',
                    });
                    return;
                }
                var difference = the_guess - the_number;
                if (difference < 0) {
                    difference = difference * -1;
                }
            }
            difference = 10 - difference;

            var newSize = ((difference * 7) + '%');

            $('.circleDiv').css({
                'padding-top': newSize,
                'width': newSize
            });

        }



    </script>
</head>
<body onload="pick_number()">

<div class="container1">
    <!---->
    <div class="circleDiv"></div>
        <div class="wrapper">
            <div id="response_div"><h2>pick a number</h2></div>
            <input type='text' id='guess_input' placeholder="Enter number">
            <button class="replay">play again</button>
        </div>
</div>
</body>
</html>